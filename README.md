# Лабораторная работа №1
Данная лабораторная работа представляет собой два Bash-скрипта, предназначенных для работы с файловой системой и автоматического управления логами.
lab1.sh — основной скрипт: проверяет заполненность переданной директории. Если процент заполнения превышает заданный порог, скрипт находит самые старые файлы, архивирует их в указанный каталог бэкапов и удаляет оригиналы.
test_lab1.sh — тестовый скрипт: автоматически создаёт виртуальный диск, монтирует его через FUSE, генерирует тестовые файлы и запускает несколько сценариев для проверки работы основного скрипта.

## Основные шаги работы тестового скрипта:
 1. Создаётся виртуальный диск (файл test_disk.img) заданного размера
 2. Диск форматируется в ext4 и монтируется в директорию mnt с помощью FUSE.
 3. В каталоге mnt/log генерируются лог-файлы заданного размера.
 4. Запускается lab1.sh, который анализирует заполненность и при необходимости архивирует устаревшие файлы.
 5. После завершения тестов диск размонтируется и очищается.

## Для запуска основного скрипта вручную необходимо ввести в терминл следующую команду:
```bash
bash lab1.sh --path ./mnt/log --threshold 70 --total 2048 --backup ./mnt/backup
```

--path — путь к каталогу логов,
--threshold — порог заполнения в процентах,
--total — общий объём диска (в МБ),
--backup — путь к каталогу для сохранения архивов.

## Установленные пакеты:
  1) sudo apt update
  2) sudo apt install fuse2fs fuse-utils tar

## Работу выполнили учащиеся группы 24КНТ-1:
 1) Левина Любовь
 2) Белякова Мария
